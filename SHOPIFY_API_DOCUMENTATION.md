# Shopify API 完全ガイド (2025年版)

## 概要
このドキュメントは、2025年現在利用可能なShopify APIの包括的なリストと説明を提供します。

## コアAPI

### 1. GraphQL Admin API
**説明**: Admin APIを使用して、Shopify管理画面を拡張・強化するアプリや統合を構築できます。効率的なGraphQLクエリを使用した開始方法を学びます。

**用途**:
- 商品、注文、顧客データの管理
- 在庫管理
- 価格設定とディスカウントの管理
- レポートと分析

**ドキュメント**: https://shopify.dev/docs/api/admin-graphql

### 2. REST Admin API
**説明**: Admin APIを使用して、Shopify管理画面を拡張・強化するアプリや統合を構築できます。RESTエンドポイントを使用した開始方法を学びます。

**用途**:
- GraphQL Admin APIと同様の機能をRESTful形式で提供
- 従来のRESTアーキテクチャを好む開発者向け

**ドキュメント**: https://shopify.dev/docs/api/admin-rest

### 3. Storefront API
**説明**: Storefront APIは、カスタムでスケーラブルかつパフォーマンスの高いショッピング体験を構築するためのコマースプリミティブを提供します。

**用途**:
- カスタムストアフロントの構築
- モバイルアプリの開発
- ヘッドレスコマースの実装
- 顧客のチェックアウト体験のカスタマイズ

**ドキュメント**: https://shopify.dev/docs/api/storefront

### 4. Partner API
**説明**: Partner APIでビジネスを拡大できます。Partner APIを使用すると、パートナーダッシュボードにあるデータにアクセスして、フロントおよびバックオフィスの操作を自動化できます。

**用途**:
- アプリのインストール追跡
- 収益レポート
- マーチャント管理
- 開発ストアの管理

## フロントエンド・テーマAPI

### 5. Ajax API
**説明**: Ajax APIを使用して、商品データ、レコメンデーション、ショッピングカート管理のための軽量JSON APIでShopifyオンラインストアに動的要素を追加します。

**用途**:
- カートの動的更新
- 商品情報の非同期取得
- レコメンデーション機能の実装

### 6. Section Rendering API
**説明**: Section Rendering APIを使用して、ページ全体をリロードする代わりに、ページの部分的な要素のみを取得してページコンテンツを更新します。

**用途**:
- 部分的なページ更新
- パフォーマンスの向上
- ユーザー体験の改善

### 7. Customer Privacy API
**説明**: Customer Privacy APIを使用して、購入者の同意とオプトアウトを統合します。

**用途**:
- GDPR準拠
- プライバシー設定の管理
- 顧客の同意追跡

## 拡張機能・関数API

### 8. Shopify Function APIs
**説明**: Shopify Function APIを使用して、Shopifyの一部を動かすバックエンドロジックをカスタマイズします。

**用途**:
- カスタムディスカウント
- 配送計算のカスタマイズ
- 支払いカスタマイズ
- カート変換ルール

**最新バージョン**: 2025-01（新機能：HttpResponseオブジェクトにheaderフィールドを追加）

### 9. App Bridge
**説明**: App Bridgeを使用して、Shopify管理画面と統合された埋め込みアプリを構築します。

**用途**:
- 管理画面への統合
- ナビゲーション制御
- リソースピッカー
- コンテキストバー

### 10. Webhooks
**説明**: Webhookを使用して、アプリをShopifyデータと同期させたり、ショップで特定のイベントが発生した後にアクションを実行したりします。

**用途**:
- リアルタイムデータ同期
- イベント駆動型処理
- 通知システム
- APIポーリングの代替

## アプリ拡張API

### 11. Admin UI Extensions
**説明**: Admin UI拡張機能を使用して、Shopify管理画面へのより深い統合を作成します。

**用途**:
- カスタム管理画面UI
- 新しい管理セクション
- 既存ページへの拡張

### 12. Checkout App Extensions
**説明**: チェックアウトアプリ拡張機能を使用して、アプリコードをチェックアウトに拡張し、チェックアウト体験の多くの側面をカスタマイズします。

**用途**:
- チェックアウトのカスタマイズ
- カスタムフィールドの追加
- 支払い・配送オプションの拡張

### 13. Product Subscriptions Extensions
**説明**: 商品サブスクリプション拡張機能を使用して、マーチャントがShopify管理画面で販売プランを管理できるようにします。

**用途**:
- サブスクリプション管理
- 定期購入の設定
- 販売プランのカスタマイズ

### 14. Shopify POS App Extensions
**説明**: Shopify POSアプリ拡張機能を使用して、カスタムPOS UI拡張機能、ロイヤルティプログラム、POSショッピングカートでのディスカウント、商品レコメンデーションを構築します。

**用途**:
- POS画面のカスタマイズ
- ロイヤルティプログラム
- カスタムディスカウント
- 商品推奨

### 15. Web Pixel App Extensions
**説明**: Webピクセルアプリ拡張機能を使用して、マーケティングキャンペーンの最適化と分析のための行動データを収集します。

**用途**:
- 分析データ収集
- マーケティング追跡
- コンバージョン測定
- 行動分析

### 16. Marketing Activities App Extensions
**説明**: マーケティング活動アプリ拡張機能を使用して、ユーザーがShopify管理画面のマーケティングページからプロモーションキャンペーンとマーケティング自動化を管理できるようにします。

**用途**:
- キャンペーン管理
- マーケティング自動化
- プロモーション設定

## 追加API（Shopify Plus）

### 17. Payment App API
**説明**: Payment App APIは、サードパーティの決済ゲートウェイとShopifyストアの統合を支援します。開発者は、Shopifyチェックアウトプロセスに統合できる決済処理ソリューションを作成できます。

**用途**:
- カスタム決済ゲートウェイ
- 決済処理の統合
- 地域固有の決済方法

### 18. Gift Card API（Shopify Plus限定）
**説明**: ギフトカードAPIにより、Shopify Plusマーチャントはプログラムでギフトカードを作成、発行、管理できます。

**用途**:
- ギフトカードの自動発行
- 残高管理
- カスタムギフトカードプログラム

## 認証とアクセス

### 認証方法
1. **OAuth 2.0**: パブリックアプリとカスタムアプリ用
2. **アクセストークン**: すべてのAPIリクエストに必要
3. **APIキーとシークレット**: アプリの識別

### 必要なヘッダー
```
X-Shopify-Access-Token: {access_token}
Content-Type: application/json
```

## APIバージョニング

### 最新バージョン
- **現在の最新バージョン**: 2025-07
- **サポートされているバージョン**: 過去12ヶ月のバージョン

### バージョン管理のベストプラクティス
1. 常に最新の安定版を使用
2. 非推奨の通知に注意
3. 定期的にAPIバージョンを更新

## レート制限

### GraphQL Admin API
- コスト基準のレート制限
- 1,000ポイント/秒

### REST Admin API  
- リクエスト基準のレート制限
- 2リクエスト/秒（基本）
- 4リクエスト/秒（Shopify Plus）

## 開発リソース

### 公式ドキュメント
- メインAPIドキュメント: https://shopify.dev/docs/api
- 開発者チェンジログ: https://shopify.dev/changelog
- APIリリースノート: https://shopify.dev/docs/api/release-notes

### 開発ツール
- Shopify CLI
- GraphiQL エクスプローラー
- Postmanコレクション
- SDKとライブラリ（各言語用）

## ベストプラクティス

1. **効率的なクエリ**: 必要なデータのみを要求
2. **バルク操作**: 大量のデータ処理にはバルクAPIを使用
3. **Webhook活用**: ポーリングの代わりにWebhookを使用
4. **エラーハンドリング**: 適切な再試行ロジックの実装
5. **キャッシング**: 頻繁にアクセスするデータのキャッシュ

## まとめ

Shopify APIエコシステムは、開発者がShopifyプラットフォーム上で強力なアプリケーションとカスタマイズを構築できる包括的なツールセットを提供します。各APIは特定の用途に最適化されており、組み合わせることで完全なeコマースソリューションを作成できます。

最新の情報とアップデートについては、常に公式ドキュメントとチェンジログを確認してください。